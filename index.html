<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chelsea's Book Log</title>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'DM Sans', sans-serif;
            background-color: #121212;
            color: #e0e0e0;
            margin: 0;
            padding: 0;
        }

        header {
            background-color: #1f1f1f;
            color: #fff;
            text-align: center;
            padding: 20px 0;
            border-bottom: 1px solid #333;
        }

        h1 {
            margin: 0;
        }

        .container {
            width: 80%;
            margin: 20px auto;
            padding: 20px;
            background-color: #1f1f1f;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }

        h2 {
            color: #adb0ab;
            border-bottom: 1px solid #333;
            padding-bottom: 10px;
        }

        ul {
            list-style-type: none;
            padding: 0;
        }

        .book-item {
            margin: 10px 0;
            padding: 10px;
            border-radius: 5px;
            background-color: #333;
        }

        .book-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .book-header img {
            width: 50px;
            height: 75px;
            margin-right: 15px;
            border-radius: 3px;
            object-fit: cover;
        }

        .placeholder {
            width: 50px;
            height: 75px;
            margin-right: 15px;
            background-color: #555;
            color: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 3px;
            font-size: 20px;
        }

        .toggle-button {
            background-color: #666;
            color: #fff;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .toggle-button:hover {
            background-color: #888;
        }

        .book-summary {
            margin-top: 10px;
            padding: 10px;
            background-color: #444;
            border-radius: 5px;
            color: #ddd;
            display: none;
        }
    </style>
</head>
<body>
    <header>
        <h1>Chelsea's Book Log</h1>
    </header>
    <div class="container">
        <h2>2024</h2>
        <ul id="book-list-2024"></ul>
        <h2>2023</h2>
        <ul id="book-list-2023"></ul>
        <h2>2022</h2>
        <ul id="book-list-2022"></ul>
        <h2>2021</h2>
        <ul id="book-list-2021"></ul>
    </div>

    <script>
        const bookLists = {
            2024: [
                { title: "SPQR: A History of Ancient Rome", author: "Mary Beard" },
                { title: "Paved Paradise: How Parking Explains the World", author: "Henry Grabar" },
                { title: "Daring Greatly", author: "BrenÃ© Brown" },
                { title: "Madeleine: Our Daughter's Disappearance", author: "Kate McCann" },
                { title: "Astor: The Rise and Fall of an American Fortune", author: "Anderson Cooper" },
                { title: "Shattered", author: "Jonathan Allen" },
                { title: "The Art of Power", author: "Nancy Pelosi" },
                { title: "Fire & Blood", author: "George R. R. Martin" },
                { title: "Hillbilly Elegy", author: "J. D. Vance" },
                { title: "Thomas Jefferson & Sally Hemings", author: "Annette Gordon-Reed" },
                { title: "Elon Musk", author: "Walter Isaacson" },
                { title: "Burn Book", author: "Kara Swisher" },
                { title: "The World for Sale", author: "Javier Blas" },
                { title: "Never Finished", author: "David Goggins" },
                { title: "Can't Hurt Me", author: "David Goggins" },
                { title: "The Four Agreements", author: "Don Miguel Ruiz" },
            ],
            2023: [
                { title: "Breaking History", author: "Jared Kushner" },
                { title: "The Woman in Me", author: "Britney Spears" },
                { title: "The 21 Irrefutable Laws of Leadership", author: "John C. Maxwell" },
                { title: "Outlive", author: "Peter Attia" },
                { title: "Born to Run", author: "Christopher McDougall" },
                { title: "The Hard Thing About Hard Things", author: "Ben Horowitz" },
                { title: "Don't Trust Your Gut", author: "Seth Stephens-Davidowitz" },
                { title: "Why We Sleep", author: "Matthew Walker" },
                { title: "The Upside of Stress: Why Stress Is Good for You, and How to Get Good at It", author: "Kelly McGonigal" },
                { title: "The Obstacle Is the Way", author: "Ryan Holiday" },
                { title: "Algorithms to Live By", author: "Brian Christian" },
                { title: "Becoming Trader Joe", author: "Joe Coulombe" },
                { title: "The Champion's Mind", author: "Jim Afremow" },
                { title: "The Challenger Sale", author: "Matthew Dixon" },
                { title: "Spare", author: "Prince Harry" },
                { title: "Atomic Habits", author: "James Clear" },
            ],
            2022: [
                { title: "Snow Crash", author: "Neal Stephenson" },
                { title: "The Alchemist", author: "Paulo Coelho" },
                { title: "The Defining Decade", author: "Meg Jay" },
                { title: "Exhalation", author: "Ted Chiang" },
                { title: "Meditations", author: "Marcus Aurelius" },
                { title: "Letters from a Stoic", author: "Seneca" },
                { title: "Empire Express", author: "David Haward Bain" },
                { title: "The Art of Living", author: "Epictetus" },
                { title: "Zero to One", author: "Peter Thiel" },
                { title: "Amp It Up", author: "Frank Slootman" },
                { title: "Billion Dollar Brand Club", author: "Lawrence Ingrassia" },
            ],
            2021: [
                { title: "Rebecca", author: "Daphne du Maurier" },
                { title: "Animal Farm", author: "George Orwell" },
                { title: "Steve Jobs", author: "Walter Isaacson" },
                { title: "The Time Machine", author: "H.G. Wells" },
                { title: "The Early Writings of Alan Watts", author: "John Snelling" },
                { title: "The Art of Thinking Clearly", author: "Rolf Dobelli" },
            ],
        };

        const loadBooks = async (year) => {
            const books = bookLists[year];
            const listElement = document.getElementById(`book-list-${year}`);

            const bookPromises = books.map(async (book) => {
                const query = `intitle:${encodeURIComponent(book.title)}+inauthor:${encodeURIComponent(book.author)}`;
                const url = `https://www.googleapis.com/books/v1/volumes?q=${query}&key=AIzaSyDK4W7uc8i6Yq1yXpHTMH8GZhuTGmiupDg`;
                try {
                    const response = await fetch(url);
                    const data = await response.json();
                    console.log(data)
                    const volumeInfo = data.items && data.items[0]?.volumeInfo;

                    const thumbnail = volumeInfo?.imageLinks?.thumbnail || '';
                    const description = volumeInfo?.description || "No summary available.";

                    return `
                        <li class="book-item">
                            <div class="book-header">
                                <img src="${thumbnail}" alt="${book.title} Book Cover">
                                <div>
                                    <strong>${book.title}</strong> - ${book.author}
                                </div>
                                <button class="toggle-button" onclick="toggleSummary(this)">Show</button>
                            </div>
                            <div class="book-summary">
                                <p>${description}</p>
                            </div>
                        </li>`;
                } catch (error) {
                    console.error('Error fetching book data:', error);
                    return `
                        <li class="book-item">
                            <div class="book-header">
                                <div class="placeholder">ðŸ“š</div>
                                <div>
                                    <strong>${book.title}</strong> - ${book.author}
                                </div>
                                <button class="toggle-button" onclick="toggleSummary(this)">Show</button>
                            </div>
                            <div class="book-summary">
                                <p>No summary available.</p>
                            </div>
                        </li>`;
                }
            });

            const bookItems = await Promise.all(bookPromises);
            listElement.innerHTML = bookItems.join('');
        };

        const toggleSummary = (button) => {
            const summary = button.parentElement.nextElementSibling;
            const isVisible = summary.style.display === "block";
            summary.style.display = isVisible ? "none" : "block";
            button.textContent = isVisible ? "Show" : "Hide";
        };

        Object.keys(bookLists).forEach(loadBooks);
    </script>
</body>
</html>
